<html>
  <head>
    <title>Water Reminder</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <link href="https://fonts.googleapis.com/css?family=Kumar+One+Outline|Muli&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div class="topnav">
      <a href="index.html">Home</a>
      <a class="active" href="timer.html">Timer</a>
    </div>
    <div class = 'heading'>
      <h1>Water Reminder</h1>
    </div>
    
    <audio id="ticking" src="ticking.mp3" preload loop></audio>
    <audio id="alarm" src="alarm.mp3" preload></audio>
      
    <div class="container">
      
      <div class = "input-container"> 
        <h3>Set Timer!</h3>  
        <input type = "number" placeholder = "Interval (Minutes)" id = "interval">
        <button>Start timer!</button>
      </div>
      
      <div class = "timer-container">
        
      </div> 
     
    </div>

    
    <script>
      var interval;

      function start() {
        $('#ticking')[0].play();
        interval = $("#interval").val(); 
        //document.write("Interval-"+interval);

        var startHtml = `<img id = "driver" src = "driving.gif">
                  <p id = 'status'> You should drink in ${interval} minutes. </p>
                  <div class = "progress"></div>`;
        $('.timer-container').html(startHtml); 
        $('.timer-container').css("background-color", "#0984e3"); 

        var intervalInSeconds = interval*60; 
        var intervalInMS = intervalInSeconds * 1000; 
        setTimeout(end,intervalInMS)
          
      }
      
      function end(done) {
        $('.timer-container').css("background-color", "#00b894"); 
        $('.timer-container').html(`<img src = "alarm.gif">`); 
        $("#ticking")[0].pause(); 
        $("#alarm")[0].play(); 
      }
      
      function update() {
        remaining = remaining - 1; 
        $('timer-container').css("background-color", "#00b894"); 
        $("#status").text(`Your order will be ready in ${remaining} minutes`); 
      }
      
      function tick() {
        timeSpend = timeSpend + 1; 
        var percentage = (timeSpend/seconds)*100; 
        $('.progress').css('width', percentage + '%'); 
      }
      
      $('button').click(start); 


    
    </script>
    
  </body>
</html>
